<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Snap Scroll — Minimal</title>

    <style>
        /* only what's required for snap scrolling */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        html, body { 
            height: 100vh;
        }
        .scroll-root {
            height: 100vh;
            overflow-y: auto;
            scroll-snap-type: y mandatory;
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
        }
        .intro {
            height: 100vh;
            scroll-snap-align: start;
            display: grid;
            place-items: center;
            background-color: rgb(216, 216, 216);
        }
        .content {
            height: 100vh;
            scroll-snap-align: start;
            overflow-y: scroll;
            overscroll-behavior-y: auto;
        }



        /* Has nothing to do with the snap scrolling */
        .content-block {
            min-height: 500px;
            padding: 20px;
        }
        .changer {
            position: fixed;
            top: 10px;
            right: 10px;
            background: #000;
            color: #fff;
            font-family: sans-serif;
            z-index: 1000;
        }
        a{
            color: #fff;
            text-decoration: none;
        }
    </style>
</head>
<body>
    <div class="changer">
        <a href="4b.html">change to smooth</a>
    </div>
    <main class="scroll-root" aria-label="Page" id="scroll-root">
        <section class="intro" aria-label="Intro" id="intro">
            <div>
                <h1>4a</h1>
                <p>100vh both containers, vertical overflow on content</p>
                <p>change focus when scrolling down on the intro</p>
            </div>
        </section>

        <section class="content" aria-label="Main content" id="content">
            <section class="content-block">
                <h2>Hero</h2>
                <p>Scrolling content area — multiple sections below</p>
            </section>

            <section class="content-block">
                <h2>Section One</h2>
                <p>Some sample text to make the page scroll. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer nec odio. Praesent libero.</p>
            </section>

            <section class="content-block">
                <h2>Section Two</h2>
                <p>More content. Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor.</p>
            </section>

            <section class="content-block">
                <h2>Section Three</h2>
                <p>Even more content to ensure the page is longer than the viewport. Cras mattis consectetur purus sit amet fermentum.</p>
            </section>

            <section class="content-block">
                <h2>Section Four</h2>
                <p>Final section. You can keep adding sections as needed.</p>
            </section>
        </section>
    </main>

    <script>
        const intro = document.getElementById('intro');
        const content = document.getElementById('content');

        // Funktion, um den Fokus zu wechseln
        const handleScrollEnd = () => {
            const introHeight = intro.offsetHeight;
            const scrollY = window.scrollY;

            if (scrollY < introHeight && scrollY > introHeight / 2) {
                content.focus();
                content.scrollIntoView({ behavior: 'smooth' });
            }
        };

        // Event-Listener für das scrollend-Event
        document.addEventListener('scrollend', handleScrollEnd);

        // Fallback für Browser, die scrollend nicht unterstützen
        let isScrolling;
        document.addEventListener('scroll', () => {
            window.clearTimeout(isScrolling);
            isScrolling = setTimeout(() => {
                handleScrollEnd();
            }, 100); // Timeout, um das Scrollen zu erkennen
        });
    </script>
</body>
</html>
